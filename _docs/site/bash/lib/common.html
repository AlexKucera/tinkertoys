
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive documentation for tinkertoys utility scripts and automation tools">
      
      
      
      
        <link rel="prev" href="../rendering/nukerender_bash.html">
      
      
        <link rel="next" href="media_functions.html">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Common Functions - Tinkertoys Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#common-functions-library-commonsh" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../index.html" title="Tinkertoys Documentation" class="md-header__button md-logo" aria-label="Tinkertoys Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tinkertoys Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Common Functions
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../index.html" class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview.html" class="md-tabs__link">
          
  
  
    
  
  Bash Scripts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../python/overview.html" class="md-tabs__link">
          
  
  
    
  
  Python Scripts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ruby/overview.html" class="md-tabs__link">
          
  
  
    
  
  Ruby Scripts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../config/setup.html" class="md-tabs__link">
          
  
  
    
  
  Configuration

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Tinkertoys Documentation" class="md-nav__button md-logo" aria-label="Tinkertoys Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Tinkertoys Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Bash Scripts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Bash Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Development Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Development Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/appifiy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App Builder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/comparefolders.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Folder Comparison
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/fixImgExt.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Extension Fixer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/version_up.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Version Incrementer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Media Processing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Media Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/convert_images_to_h264.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Images to H.264
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/convert_images_to_prores.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Images to ProRes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/convert_movie_to_h264.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Movie to H.264
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/convert_movie_to_prores.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Movie to ProRes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/movie_to_web.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Movie to Web
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../media/split_stereo_to_mono.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stereo Audio Split
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    System Administration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            System Administration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/application_list_updater.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application List Updater
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/checkLogSize.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Size Checker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/getDiskDevice.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Disk Device Finder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/purgeLoop.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory Purge Loop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../system/log_collector.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Collector
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Rendering Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Rendering Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/mail_send.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mail Notifications
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/nukerender_bash.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nuke Render Automation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" checked>
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Shared Libraries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Shared Libraries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Common Functions
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="common.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Common Functions
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validation-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Validation Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate_file" class="md-nav__link">
    <span class="md-ellipsis">
      validate_file()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_directory" class="md-nav__link">
    <span class="md-ellipsis">
      validate_directory()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_command" class="md-nav__link">
    <span class="md-ellipsis">
      validate_command()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Timestamp Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Timestamp Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      get_timestamp()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculate_duration" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_duration()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Logging Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_message" class="md-nav__link">
    <span class="md-ellipsis">
      log_message()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utility Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_script_dir" class="md-nav__link">
    <span class="md-ellipsis">
      get_script_dir()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_filename" class="md-nav__link">
    <span class="md-ellipsis">
      parse_filename()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Detection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Detection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_macos" class="md-nav__link">
    <span class="md-ellipsis">
      is_macos()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_linux" class="md-nav__link">
    <span class="md-ellipsis">
      is_linux()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-with-timestamps" class="md-nav__link">
    <span class="md-ellipsis">
      Logging with Timestamps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Duration Tracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-platform-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Platform Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-features" class="md-nav__link">
    <span class="md-ellipsis">
      Security Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    <span class="md-ellipsis">
      Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#library-loading" class="md-nav__link">
    <span class="md-ellipsis">
      Library Loading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Function Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Function Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling_1" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See Also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="media_functions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Media Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="system_functions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="writeToLogAndEcho.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log and Echo Utils
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python Scripts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Python Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Ruby Scripts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Ruby Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ruby/overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/mail_send.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mail Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/log_sources.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Log Sources
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Key Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validation-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Validation Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validation Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#validate_file" class="md-nav__link">
    <span class="md-ellipsis">
      validate_file()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_directory" class="md-nav__link">
    <span class="md-ellipsis">
      validate_directory()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_command" class="md-nav__link">
    <span class="md-ellipsis">
      validate_command()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Timestamp Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Timestamp Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_timestamp" class="md-nav__link">
    <span class="md-ellipsis">
      get_timestamp()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#calculate_duration" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_duration()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Logging Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#log_message" class="md-nav__link">
    <span class="md-ellipsis">
      log_message()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Utility Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utility Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_script_dir" class="md-nav__link">
    <span class="md-ellipsis">
      get_script_dir()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_filename" class="md-nav__link">
    <span class="md-ellipsis">
      parse_filename()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Platform Detection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Platform Detection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_macos" class="md-nav__link">
    <span class="md-ellipsis">
      is_macos()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_linux" class="md-nav__link">
    <span class="md-ellipsis">
      is_linux()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Usage Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Validation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logging-with-timestamps" class="md-nav__link">
    <span class="md-ellipsis">
      Logging with Timestamps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duration-tracking" class="md-nav__link">
    <span class="md-ellipsis">
      Duration Tracking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-platform-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Platform Operations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-features" class="md-nav__link">
    <span class="md-ellipsis">
      Security Features
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration" class="md-nav__link">
    <span class="md-ellipsis">
      Integration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#library-loading" class="md-nav__link">
    <span class="md-ellipsis">
      Library Loading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Function Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-usage" class="md-nav__link">
    <span class="md-ellipsis">
      Function Usage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling_1" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See Also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="common-functions-library-commonsh">Common Functions Library (common.sh)<a class="headerlink" href="#common-functions-library-commonsh" title="Permanent link">&para;</a></h1>
<p>Core utility functions providing validation, timestamps, logging, and cross-platform compatibility for all bash scripts.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The common functions library provides essential utilities used across all bash scripts, including input validation, timestamp generation, logging capabilities, and platform detection. This library ensures consistent behavior and reduces code duplication.</p>
<h2 id="key-functions">Key Functions<a class="headerlink" href="#key-functions" title="Permanent link">&para;</a></h2>
<h3 id="validation-functions">Validation Functions<a class="headerlink" href="#validation-functions" title="Permanent link">&para;</a></h3>
<h4 id="validate_file"><code>validate_file()</code><a class="headerlink" href="#validate_file" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>validate_file<span class="w"> </span><span class="s2">&quot;path/to/file&quot;</span><span class="w"> </span><span class="s2">&quot;description&quot;</span>
</code></pre></div>
Validates that a file exists and is readable.</p>
<ul>
<li><strong>Parameters</strong>: file_path, description</li>
<li><strong>Returns</strong>: 0 if valid, 1 if invalid</li>
<li><strong>Features</strong>: Comprehensive error reporting, path safety checks</li>
</ul>
<h4 id="validate_directory"><code>validate_directory()</code><a class="headerlink" href="#validate_directory" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>validate_directory<span class="w"> </span><span class="s2">&quot;path/to/dir&quot;</span><span class="w"> </span><span class="s2">&quot;description&quot;</span>
</code></pre></div>
Validates that a directory exists and is accessible.</p>
<ul>
<li><strong>Parameters</strong>: directory_path, description</li>
<li><strong>Returns</strong>: 0 if valid, 1 if invalid</li>
<li><strong>Features</strong>: Permission checking, clear error messages</li>
</ul>
<h4 id="validate_command"><code>validate_command()</code><a class="headerlink" href="#validate_command" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>validate_command<span class="w"> </span><span class="s2">&quot;ffmpeg&quot;</span><span class="w"> </span><span class="s2">&quot;FFmpeg&quot;</span>
</code></pre></div>
Validates that a command is available in the system PATH.</p>
<ul>
<li><strong>Parameters</strong>: command_name, display_name</li>
<li><strong>Returns</strong>: 0 if available, 1 if missing</li>
<li><strong>Features</strong>: Installation guidance, dependency checking</li>
</ul>
<h3 id="timestamp-functions">Timestamp Functions<a class="headerlink" href="#timestamp-functions" title="Permanent link">&para;</a></h3>
<h4 id="get_timestamp"><code>get_timestamp()</code><a class="headerlink" href="#get_timestamp" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">timestamp</span><span class="o">=</span><span class="k">$(</span>get_timestamp<span class="k">)</span>
</code></pre></div>
Generates formatted timestamps for logging and reporting.</p>
<ul>
<li><strong>Returns</strong>: Formatted timestamp string</li>
<li><strong>Format</strong>: "Monday, 05.07.2025 13:45:30"</li>
<li><strong>Cross-platform</strong>: Works on macOS and Linux</li>
</ul>
<h4 id="calculate_duration"><code>calculate_duration()</code><a class="headerlink" href="#calculate_duration" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nv">duration</span><span class="o">=</span><span class="k">$(</span>calculate_duration<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$start_time</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$end_time</span><span class="s2">&quot;</span><span class="k">)</span>
</code></pre></div>
Calculates formatted duration between two timestamps.</p>
<ul>
<li><strong>Parameters</strong>: start_epoch, end_epoch</li>
<li><strong>Returns</strong>: Formatted duration (e.g., "2h:35m:42s")</li>
<li><strong>Features</strong>: Human-readable format, zero-padding</li>
</ul>
<h3 id="logging-functions">Logging Functions<a class="headerlink" href="#logging-functions" title="Permanent link">&para;</a></h3>
<h4 id="log_message"><code>log_message()</code><a class="headerlink" href="#log_message" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>log_message<span class="w"> </span><span class="s2">&quot;Important event occurred&quot;</span><span class="w"> </span><span class="s2">&quot;app.log&quot;</span>
</code></pre></div>
Writes timestamped messages to log files.</p>
<ul>
<li><strong>Parameters</strong>: message, log_filename</li>
<li><strong>Features</strong>: Automatic timestamping, safe file operations</li>
<li><strong>Location</strong>: Logs written to current directory</li>
</ul>
<h3 id="utility-functions">Utility Functions<a class="headerlink" href="#utility-functions" title="Permanent link">&para;</a></h3>
<h4 id="get_script_dir"><code>get_script_dir()</code><a class="headerlink" href="#get_script_dir" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nv">script_directory</span><span class="o">=</span><span class="k">$(</span>get_script_dir<span class="k">)</span>
</code></pre></div>
Returns the directory containing the calling script.</p>
<ul>
<li><strong>Returns</strong>: Absolute path to script directory</li>
<li><strong>Use Cases</strong>: Relative path resolution, resource location</li>
</ul>
<h4 id="parse_filename"><code>parse_filename()</code><a class="headerlink" href="#parse_filename" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>parse_filename<span class="w"> </span><span class="s2">&quot;/path/to/file.ext&quot;</span><span class="w"> </span>basename<span class="w"> </span>extension
</code></pre></div>
Safely parses filename components.</p>
<ul>
<li><strong>Parameters</strong>: filepath, basename_var, extension_var</li>
<li><strong>Features</strong>: Extension extraction, path handling</li>
</ul>
<h3 id="platform-detection">Platform Detection<a class="headerlink" href="#platform-detection" title="Permanent link">&para;</a></h3>
<h4 id="is_macos"><code>is_macos()</code><a class="headerlink" href="#is_macos" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">if</span><span class="w"> </span>is_macos<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running on macOS&quot;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="k">fi</span>
</code></pre></div>
Detects macOS platform for platform-specific operations.</p>
<ul>
<li><strong>Returns</strong>: 0 if macOS, 1 if other platform</li>
<li><strong>Use Cases</strong>: Platform-specific command selection</li>
</ul>
<h4 id="is_linux"><code>is_linux()</code><a class="headerlink" href="#is_linux" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="k">if</span><span class="w"> </span>is_linux<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Running on Linux&quot;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">fi</span>
</code></pre></div>
Detects Linux platform.</p>
<ul>
<li><strong>Returns</strong>: 0 if Linux, 1 if other platform</li>
</ul>
<h2 id="usage-examples">Usage Examples<a class="headerlink" href="#usage-examples" title="Permanent link">&para;</a></h2>
<h3 id="basic-validation">Basic Validation<a class="headerlink" href="#basic-validation" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;lib/common.sh&quot;</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="c1"># Validate input file</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>validate_file<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;input video&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="k">fi</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="c1"># Validate output directory</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="k">if</span><span class="w"> </span>!<span class="w"> </span>validate_directory<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$OUTPUT_DIR</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;output directory&quot;</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="k">fi</span>
</code></pre></div>
<h3 id="logging-with-timestamps">Logging with Timestamps<a class="headerlink" href="#logging-with-timestamps" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;lib/common.sh&quot;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="nv">LOG_FILE</span><span class="o">=</span><span class="s2">&quot;processing.log&quot;</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>log_message<span class="w"> </span><span class="s2">&quot;Processing started&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOG_FILE</span><span class="s2">&quot;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="c1"># ... processing work ...</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>log_message<span class="w"> </span><span class="s2">&quot;Processing completed successfully&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$LOG_FILE</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="duration-tracking">Duration Tracking<a class="headerlink" href="#duration-tracking" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;lib/common.sh&quot;</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="nv">START_TIME</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Started at: </span><span class="k">$(</span>get_timestamp<span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># ... long running process ...</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="nv">END_TIME</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>date<span class="w"> </span>+%s<span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nv">DURATION</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>calculate_duration<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$START_TIME</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$END_TIME</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Completed in: </span><span class="nv">$DURATION</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="cross-platform-operations">Cross-Platform Operations<a class="headerlink" href="#cross-platform-operations" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;lib/common.sh&quot;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="k">if</span><span class="w"> </span>is_macos<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">    </span><span class="nv">OPEN_CMD</span><span class="o">=</span><span class="s2">&quot;open&quot;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">    </span><span class="nv">DATE_CMD</span><span class="o">=</span><span class="s2">&quot;date -j&quot;</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="k">elif</span><span class="w"> </span>is_linux<span class="p">;</span><span class="w"> </span><span class="k">then</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="nv">OPEN_CMD</span><span class="o">=</span><span class="s2">&quot;xdg-open&quot;</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">    </span><span class="nv">DATE_CMD</span><span class="o">=</span><span class="s2">&quot;date&quot;</span>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="k">else</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Unsupported platform&quot;</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">    </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="k">fi</span>
</code></pre></div>
<h2 id="error-handling">Error Handling<a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h2>
<p>All functions provide comprehensive error handling:</p>
<ul>
<li><strong>Input Validation</strong>: Parameters checked before use</li>
<li><strong>Error Reporting</strong>: Clear, descriptive error messages</li>
<li><strong>Safe Defaults</strong>: Graceful handling of missing parameters</li>
<li><strong>Return Codes</strong>: Consistent 0/1 return codes for scripting</li>
</ul>
<h2 id="security-features">Security Features<a class="headerlink" href="#security-features" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Path Validation</strong>: All file paths validated for safety</li>
<li><strong>No Arbitrary Execution</strong>: No dynamic command construction</li>
<li><strong>Input Sanitization</strong>: All inputs sanitized before use</li>
<li><strong>Safe File Operations</strong>: Atomic file operations where possible</li>
</ul>
<h2 id="integration">Integration<a class="headerlink" href="#integration" title="Permanent link">&para;</a></h2>
<h3 id="library-loading">Library Loading<a class="headerlink" href="#library-loading" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1"># Standard library loading pattern</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nv">SCRIPT_DIR</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">cd</span><span class="w"> </span><span class="s2">&quot;</span><span class="k">$(</span>dirname<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">BASH_SOURCE</span><span class="p">[0]</span><span class="si">}</span><span class="s2">&quot;</span><span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">pwd</span><span class="k">)</span><span class="s2">&quot;</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nb">source</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">SCRIPT_DIR</span><span class="si">}</span><span class="s2">/../lib/common.sh&quot;</span>
</code></pre></div>
<h3 id="function-dependencies">Function Dependencies<a class="headerlink" href="#function-dependencies" title="Permanent link">&para;</a></h3>
<p>Some functions depend on others:
- <code>log_message()</code> uses <code>get_timestamp()</code>
- <code>calculate_duration()</code> uses cross-platform date handling
- All validation functions use consistent error reporting</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="function-usage">Function Usage<a class="headerlink" href="#function-usage" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Always Check Return Codes</strong>: Use return codes for error handling</li>
<li><strong>Provide Descriptions</strong>: Use descriptive names in validation calls</li>
<li><strong>Log Important Events</strong>: Use logging for audit trails</li>
<li><strong>Handle Platform Differences</strong>: Use platform detection appropriately</li>
</ol>
<h3 id="error-handling_1">Error Handling<a class="headerlink" href="#error-handling_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Validate Early</strong>: Check inputs before processing</li>
<li><strong>Fail Fast</strong>: Exit on validation errors</li>
<li><strong>Clear Messages</strong>: Provide helpful error descriptions</li>
<li><strong>Consistent Patterns</strong>: Use similar error handling across scripts</li>
</ol>
<h2 id="see-also">See Also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="media_functions.html">Media Functions</a> - Media-specific utilities</li>
<li><a href="system_functions.html">System Functions</a> - System information functions</li>
<li><a href="../overview.html">Bash Scripts Overview</a> - Integration patterns</li>
</ul>
<hr />
<p><em>Script Location: <code>bash/lib/common.sh</code></em><br />
<em>Author: Alexander Kucera / babylondreams.de</em></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.indexes", "search.highlight", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>